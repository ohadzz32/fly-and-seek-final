# מדריך בדיקות - אזור חיפוש רגיל

## תסריטי בדיקה (Test Scenarios)

### ✅ בדיקה 1: פתיחת אזור חיפוש רגיל

**צעדים:**
1. הפעל את המערכת ועבור למצב **REALTIME** או **SNAP**
2. לחץ **קליק ימני** על כלי טיס במפה
3. בחר **"פתח אזור חיפוש רגיל"** מהתפריט

**תוצאה צפויה:**
- ✓ כלי הטיס "קופא" במקום (אייקון צהוב)
- ✓ מופיע עיגול ירוק מתרחב סביב המטוס הקפוא
- ✓ המטוס המקורי ממשיך לנוע והופך לאפור (טראק רפאים)
- ✓ קו אפור מחבר בין המטוס הקפוא לטראק הרפאים

---

### ✅ בדיקה 2: התרחבות העיגול

**צעדים:**
1. פתח אזור חיפוש למטוס
2. צפה בעיגול למשך 10-30 שניות

**תוצאה צפויה:**
- ✓ העיגול מתרחב בצורה **חלקה** (ללא קפיצות)
- ✓ קצב ההתרחבות **פרופורציונלי למהירות המטוס**
- ✓ מטוס מהיר = עיגול מתרחב מהר יותר
- ✓ מטוס איטי = עיגול מתרחב לאט יותר

---

### ✅ בדיקה 3: טראק רפאים

**צעדים:**
1. פתח אזור חיפוש למטוס
2. עקוב אחרי המטוס האפור (הטראק הרפאים)

**תוצאה צפויה:**
- ✓ המטוס האפור **ממשיך לנוע** בדיוק כמו המטוס המקורי
- ✓ הקו האפור **מתעדכן בזמן אמת** ומחבר בין הקפוא לנע
- ✓ המטוס האפור **צבוע בגוון אפור** (RGB: 150, 150, 150)
- ✓ ניתן ללחוץ על הטראק הרפאים בקליק ימני

---

### ✅ בדיקה 4: סגירת אזור חיפוש

**צעדים:**
1. פתח אזור חיפוש למטוס
2. לחץ **קליק ימני** על המטוס הקפוא (הצהוב) או על הטראק הרפאים (האפור)
3. בחר **"פתח אזור חיפוש רגיל"** שוב (יש ✓ לידו)

**תוצאה צפויה:**
- ✓ המטוס הקפוא **נעלם**
- ✓ העיגול הירוק **נעלם**
- ✓ הקו האפור **נעלם**
- ✓ המטוס האפור **חוזר לצבע המקורי** שלו
- ✓ המטוס ממשיך לנוע בצורה רגילה

---

### ✅ בדיקה 5: אזורי חיפוש מרובים

**צעדים:**
1. פתח אזור חיפוש ל**מטוס A**
2. פתח אזור חיפוש ל**מטוס B**
3. פתח אזור חיפוש ל**מטוס C**

**תוצאה צפויה:**
- ✓ כל המטוסים הקפואים מוצגים (צהובים)
- ✓ כל העיגולים מתרחבים בנפרד
- ✓ כל הטראקים הרפאים נעים (אפורים)
- ✓ אין הפרעה בין אזורי החיפוש השונים

**בדיקת סגירה:**
4. סגור את אזור החיפוש של מטוס B בלבד

**תוצאה צפויה:**
- ✓ רק מטוס B חוזר לרגיל
- ✓ מטוסים A ו-C נשארים עם אזורי חיפוש פעילים

---

### ✅ בדיקה 6: תפריט קליק ימני

**בדיקה א: על מטוס רגיל**
1. לחץ קליק ימני על מטוס **ללא** אזור חיפוש

**תוצאה צפויה:**
- ✓ מופיע תפריט עם מזהה המטוס
- ✓ ליד "פתח אזור חיפוש רגיל" יש **○** (עיגול ריק)
- ✓ ליד "פתח אזור חיפוש חכם" יש **○** (עיגול ריק)

**בדיקה ב: על מטוס עם אזור חיפוש**
2. פתח אזור חיפוש למטוס
3. לחץ קליק ימני על המטוס הקפוא או הטראק הרפאים

**תוצאה צפויה:**
- ✓ מופיע תפריט
- ✓ ליד "פתח אזור חיפוש רגיל" יש **✓** (ו'י)
- ✓ האפשרות מסומנת ב**צבע ירוק** (#00ff88)

---

### ✅ בדיקה 7: ביצועים

**צעדים:**
1. פתח 5-10 אזורי חיפוש בו-זמנית
2. בדוק את החלקות התנועה

**תוצאה צפויה:**
- ✓ האנימציה חלקה (30+ FPS)
- ✓ אין lag או קפיצות
- ✓ כל המטוסים מתעדכנים בזמן אמת

---

### ✅ בדיקה 8: מעבר בין מצבים

**צעדים:**
1. פתח אזורי חיפוש במצב REALTIME
2. עבור למצב SNAP
3. עבור למצב OFFLINE
4. חזור ל-REALTIME

**תוצאה צפויה:**
- ✓ אזורי החיפוש **נשארים פעילים** במעבר בין REALTIME ל-SNAP
- ✓ במצב OFFLINE אין מטוסים (רק ציפורים)
- ✓ בחזרה ל-REALTIME, אזורי החיפוש **נשמרים**

---

### ✅ בדיקה 9: קליק רגיל (לא קליק ימני)

**צעדים:**
1. לחץ **קליק שמאלי** רגיל על מטוס (לא קליק ימני)

**תוצאה צפויה:**
- ✓ מופיע **בורר צבעים** (ColorPicker)
- ✓ **לא** מופיע תפריט קליק ימני
- ✓ ניתן לשנות את צבע המטוס

---

### ✅ בדיקה 10: סגירת תפריט

**צעדים:**
1. פתח תפריט קליק ימני
2. לחץ **בכל מקום אחר** במפה

**תוצאה צפויה:**
- ✓ התפריט **נעלם**

---

## בדיקות Edge Cases

### 🔍 Edge Case 1: מטוס סטטי (מהירות 0)
- אם מטוס עומד במקום (velocity = 0), העיגול לא יתרחב

### 🔍 Edge Case 2: קליק ימני מחוץ למטוס
- אם לוחצים קליק ימני על רקע המפה, לא קורה כלום

### 🔍 Edge Case 3: מטוס נעלם
- אם מטוס יוצא מהמסך, הטראק הרפאים ימשיך לעקוב אחריו

---

## קוד לבדיקה ידנית (Console)

פתח את הקונסול בדפדפן (F12) והרץ:

```javascript
// בדוק כמה אזורי חיפוש פעילים
console.log('Active search areas:', window.searchAreas?.length || 0);

// בדוק את המטוס הראשון
console.log('First flight:', window.flights?.[0]);
```

---

## דיווח על באגים

אם מצאת באג, דווח עם הפרטים הבאים:
1. **צעדים לשחזור** - מה עשית?
2. **תוצאה צפויה** - מה ציפית?
3. **תוצאה בפועל** - מה קרה?
4. **סביבה** - דפדפן, מערכת הפעלה
5. **קונסול** - שגיאות מהקונסול (F12)

---

## סטטוס בדיקות

| בדיקה | סטטוס | הערות |
|-------|-------|-------|
| 1. פתיחת אזור חיפוש | ✅ | עובד |
| 2. התרחבות העיגול | ✅ | חלק |
| 3. טראק רפאים | ✅ | עובד |
| 4. סגירת אזור | ✅ | עובד |
| 5. אזורים מרובים | ✅ | עובד |
| 6. תפריט קליק ימני | ✅ | עובד |
| 7. ביצועים | ✅ | מעולה |
| 8. מעבר בין מצבים | ✅ | עובד |
| 9. קליק רגיל | ✅ | עובד |
| 10. סגירת תפריט | ✅ | עובד |

---

**כל הבדיקות עברו בהצלחה! ✨**
